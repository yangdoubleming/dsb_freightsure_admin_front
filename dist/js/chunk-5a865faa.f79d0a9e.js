(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a865faa"],{"02f4":function(e,t,r){var a=r("4588"),n=r("be13");e.exports=function(e){return function(t,r){var o,i,l=String(n(t)),u=a(r),c=l.length;return u<0||u>=c?e?"":void 0:(o=l.charCodeAt(u),o<55296||o>56319||u+1===c||(i=l.charCodeAt(u+1))<56320||i>57343?e?l.charAt(u):o:e?l.slice(u,u+2):i-56320+(o-55296<<10)+65536)}}},"0390":function(e,t,r){"use strict";var a=r("02f4")(!0);e.exports=function(e,t,r){return t+(r?a(e,t).length:1)}},"0bfb":function(e,t,r){"use strict";var a=r("cb7c");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"214f":function(e,t,r){"use strict";r("b0c5");var a=r("2aba"),n=r("32e9"),o=r("79e5"),i=r("be13"),l=r("2b4c"),u=r("520a"),c=l("species"),s=!o(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),m=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2===r.length&&"a"===r[0]&&"b"===r[1]}();e.exports=function(e,t,r){var p=l(e),d=!o(function(){var t={};return t[p]=function(){return 7},7!=""[e](t)}),f=d?!o(function(){var t=!1,r=/a/;return r.exec=function(){return t=!0,null},"split"===e&&(r.constructor={},r.constructor[c]=function(){return r}),r[p](""),!t}):void 0;if(!d||!f||"replace"===e&&!s||"split"===e&&!m){var h=/./[p],b=r(i,p,""[e],function(e,t,r,a,n){return t.exec===u?d&&!n?{done:!0,value:h.call(t,r,a)}:{done:!0,value:e.call(r,t,a)}:{done:!1}}),g=b[0],v=b[1];a(String.prototype,e,g),n(RegExp.prototype,p,2==t?function(e,t){return v.call(e,this,t)}:function(e){return v.call(e,this)})}}},"222b":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-col",{staticClass:"toolbar",staticStyle:{"padding-bottom":"0px","margin-top":"50px"},attrs:{span:24}},[r("el-form",{ref:"ruleForm",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.ruleForm,rules:e.rules}},[this.$route.query.ciCompanyId?e._e():r("el-form-item",{attrs:{label:"豆沙包订单号",prop:"ticketNo"}},[r("el-input",{attrs:{placeholder:"请输入商户标识"},model:{value:e.ruleForm.ticketNo,callback:function(t){e.$set(e.ruleForm,"ticketNo",t)},expression:"ruleForm.ticketNo"}})],1),r("el-form-item",{attrs:{label:"保司单号",prop:"polNo"}},[r("el-input",{attrs:{placeholder:"请输入商户标识"},model:{value:e.ruleForm.polNo,callback:function(t){e.$set(e.ruleForm,"polNo",t)},expression:"ruleForm.polNo"}})],1),r("el-form-item",{attrs:{label:"生效时间",prop:"applyTime"}},[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.applyTime,callback:function(t){e.applyTime=t},expression:"applyTime"}})],1),r("el-form-item",{attrs:{label:"处理理赔时间",prop:"finTime"}},[r("el-date-picker",{attrs:{type:"daterange","range-separator":"至","value-format":"yyyy-MM-dd","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.finTime,callback:function(t){e.finTime=t},expression:"finTime"}})],1),r("el-form-item",{attrs:{label:"商户名称",prop:"companyName"}},[r("el-select",{attrs:{filterable:"",placeholder:"请输入商户名称"},on:{change:e.setSource},model:{value:e.ruleForm.companyName,callback:function(t){e.$set(e.ruleForm,"companyName",t)},expression:"ruleForm.companyName"}},e._l(e.options,function(e){return r("el-option",{key:e.source,attrs:{label:e.companyName,value:e.companyName}})}),1)],1),r("el-form-item",[r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("查询")]),r("el-button",{attrs:{type:"primary"},on:{click:e.getExcel}},[e._v("导出excel")])],1)],1)],1),r("el-col",{staticStyle:{margin:"15px auto"}},[e._v("总单量："+e._s(e.total||0)+"       总理赔金额："+e._s(e.tableData.length>0&&e.tableData[0].money1/100||0))]),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"element-loading-text":"Loading"}},[r("el-table-column",{attrs:{prop:"ticketNo",label:"豆沙包订单号",width:"150"}}),r("el-table-column",{attrs:{prop:"polNo",label:"保司保单号",width:"280"}}),r("el-table-column",{attrs:{prop:"companyName",label:"商户名称",width:""}}),r("el-table-column",{attrs:{prop:"applyAmount",label:"申请理赔金额（元）",width:""}}),r("el-table-column",{attrs:{prop:"indemnifySum",label:"理赔金额（元）",width:""}}),r("el-table-column",{attrs:{prop:"effectiveDate",label:"生效时间",width:"",formatter:e.dateFormat}}),r("el-table-column",{attrs:{prop:"updateAt",label:"处理赔付时间",width:"",formatter:e.dateFormat}}),r("el-table-column",{attrs:{prop:"",label:"理赔状态",width:""}},[e._v("已打款")]),r("el-table-column",{attrs:{prop:"name",label:"操作",fixed:"right",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.loanDetails(t.row,"loanDetails")}}},[e._v("\n                        详情\n                    ")])]}}])})],1),r("div",{staticClass:"pageDown"},[r("el-pagination",{attrs:{"current-page":e.ruleForm.pageNum,"page-sizes":[10,20,30,50],"page-size":e.ruleForm.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),r("el-dialog",{attrs:{title:"结算审核",visible:e.centerDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[r("el-form",{ref:"auditRuleForm",attrs:{model:e.auditRuleForm,rules:e.auditRules,"label-width":"138px"}},[r("el-form-item",{attrs:{label:"企业名称：",prop:"companyName"}},[r("el-input",{attrs:{disabled:""},model:{value:e.auditRuleForm.companyName,callback:function(t){e.$set(e.auditRuleForm,"companyName",t)},expression:"auditRuleForm.companyName"}})],1),r("el-form-item",{attrs:{label:"法人姓名：",prop:"legalPersonName"}},[r("el-input",{attrs:{disabled:""},model:{value:e.auditRuleForm.legalPersonName,callback:function(t){e.$set(e.auditRuleForm,"legalPersonName",t)},expression:"auditRuleForm.legalPersonName"}})],1),r("el-form-item",{attrs:{label:"待结算金额（元）：",prop:"notSettlementMoney"}},[r("el-input",{attrs:{disabled:""},model:{value:e.auditRuleForm.notSettlementMoney,callback:function(t){e.$set(e.auditRuleForm,"notSettlementMoney",t)},expression:"auditRuleForm.notSettlementMoney"}})],1),r("el-form-item",{attrs:{label:"备注：",prop:"remarks"}},[r("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.auditRuleForm.remarks,callback:function(t){e.$set(e.auditRuleForm,"remarks",t)},expression:"auditRuleForm.remarks"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitAuditForm("auditRuleForm","3")}}},[e._v("审核")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitAuditForm("auditRuleForm","5")}}},[e._v("驳回")]),r("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)},n=[],o=r("7618"),i=r("cebc"),l=(r("4360"),r("c1df")),u=r.n(l),c=r("70d8"),s=(r("ed08"),r("2f62")),m=(r("01ea"),{data:function(){return{centerDialogVisible:!1,tableData:[],total:0,listLoading:!1,ruleForm:{ticketNo:"",polNo:"",dealStart:"",dealEnd:"",startTime:"",endTime:"",companyName:"",source:"",pageNum:1,pageSize:10},applyTime:[],finTime:[],rules:{},auditRuleForm:{companyName:"",legalPersonName:"",notSettlementMoney:"",remarks:"",id:"",settlement:""},auditRules:{remarks:[{required:!0,message:"请输入每月还款时间",trigger:"blur"}]},payInfo:{ticketNo:"",discountAmount:"",balance:"",source:"",productName:""},options:[]}},computed:Object(i["a"])({},Object(s["b"])(["user"])),created:function(){this.fetchData(),this.getCompanyListName()},methods:{goBack:function(){this.$router.go(-1)},fetchData:function(){var e=this;this.ruleForm.startTime=this.applyTime[0]||"",this.ruleForm.endTime=this.applyTime[1]||"",this.ruleForm.dealStart=this.finTime[0]||"",this.ruleForm.dealEnd=this.finTime[1]||"",this.listLoading=!0,Object(c["f"])(this.ruleForm).then(function(t){e.tableData=t.data.list,e.total=t.data.total,e.listLoading=!1}).catch(function(t){e.$message.error(t.msg),e.listLoading=!1})},getCompanyListName:function(){var e=this;Object(c["i"])().then(function(t){e.options=t.data}).catch(function(t){e.$message.error(t.msg)})},setSource:function(e){this.ruleForm.source=this.options.filter(function(t){return t.companyName==e})[0].source},handleSizeChange:function(e){this.ruleForm.pageSize=e,this.ruleForm.pageNum=1,this.fetchData()},handleCurrentChange:function(e){this.ruleForm.pageNum=e,this.fetchData()},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.ruleForm.pageNum=1,t.fetchData()})},resetForm:function(e){this.$refs[e].resetFields(),this.ruleForm.source="",this.ruleForm.dealEnd="",this.ruleForm.dealStart="",this.ruleForm.endTime="",this.ruleForm.startTime="",this.applyTime=[],this.finTime=[],this.ruleForm.pageNum=1,this.fetchData()},dateFormat:function(e,t){var r=e[t.property];return void 0==r?"":u()(r).format("YYYY-MM-DD HH:mm:ss")},loanDetails:function(e,t){this.$router.push({path:"/userManage/".concat(t),query:{ticketNo:e.ticketNo,applyProductId:e.applyProductId,id:e.id}})},submitAuditForm:function(e,t){var r=this;this.auditRuleForm.settlement=t,this.$refs[e].validate(function(e){Object(c["m"])(r.auditRuleForm).then(function(e){r.$message.success(e.msg),r.centerDialogVisible=!1,r.ruleForm.pageNum=1,r.fetchData()}).catch(function(e){r.$message.error(e.msg),r.centerDialogVisible=!1})})},resetAuditForm:function(){},loanAudit:function(e){var t=this;Object(c["h"])({id:e.id}).then(function(r){t.auditRuleForm.companyName=r.data.ciCompany.companyName,t.auditRuleForm.legalPersonName=r.data.ciCompany.legalPersonName,t.auditRuleForm.notSettlementMoney=r.data.ciCompanyLoan.notSettlementMoney,t.auditRuleForm.id=e.id,t.centerDialogVisible=!0}).catch(function(e){t.$message.error(e.msg)})},repayRecords:function(e){this.$router.push({path:"/userManage/repayRecords",query:{ciCompanyId:e.ciCompanyId,loanNo:e.loanNo}})},getExcel:function(){var e=this;this.ruleForm.startTime=this.applyTime[0]||"",this.ruleForm.endTime=this.applyTime[1]||"",this.ruleForm.dealStart=this.finTime[0]||"",this.ruleForm.dealEnd=this.finTime[1]||"",this.listLoading=!0,Object(c["d"])(this.ruleForm).then(function(t){e.listLoading=!1}).catch(function(t){var r=new Blob([t],{type:"application/ms-txt;charset=utf-8"}),a=u()(new Date).format("YYYYMMDD"),n="理赔列表".concat(a,".csv");if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,n);else{var o=window.URL.createObjectURL(r),i=document.createElement("a");i.style.display="none",i.href=o,i.setAttribute("download",n),"undefined"===typeof i.download&&i.setAttribute("target","_blank"),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(o)}e.listLoading=!1})},statusText:function(e){return 0==e.status?"资料未完成":1==e.status?"审核中":2==e.status?"已终止":3==e.status?"放款中":4==e.status?"未结清":5==e.status?"已逾期":6==e.status?"已结清":7==e.status?"还款中":void 0},settlementText:function(e){return 0==e.settlement?"不需结算":1==e.settlement?"未结算":2==e.settlement?"待审核":3==e.settlement?"已审核":4==e.settlement?"已结算":5==e.settlement?"已驳回":void 0},urlEncode:function(e,t,r){if(null==e)return"";var a="",n=Object(o["a"])(e);if("string"==n||"number"==n||"boolean"==n)a+="&"+t+"="+(null==r||r?encodeURIComponent(e):e);else for(var i in e){var l=null==t?i:t+(e instanceof Array?"["+i+"]":"."+i);a+=this.urlEncode(e[i],l,r)}return a}}}),p=m,d=(r("2c74"),r("2877")),f=Object(d["a"])(p,a,n,!1,null,null,null);t["default"]=f.exports},"2c74":function(e,t,r){"use strict";var a=r("ce4f"),n=r.n(a);n.a},"520a":function(e,t,r){"use strict";var a=r("0bfb"),n=RegExp.prototype.exec,o=String.prototype.replace,i=n,l="lastIndex",u=function(){var e=/a/,t=/b*/g;return n.call(e,"a"),n.call(t,"a"),0!==e[l]||0!==t[l]}(),c=void 0!==/()??/.exec("")[1],s=u||c;s&&(i=function(e){var t,r,i,s,m=this;return c&&(r=new RegExp("^"+m.source+"$(?!\\s)",a.call(m))),u&&(t=m[l]),i=n.call(m,e),u&&i&&(m[l]=m.global?i.index+i[0].length:t),c&&i&&i.length>1&&o.call(i[0],r,function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(i[s]=void 0)}),i}),e.exports=i},"5d58":function(e,t,r){e.exports=r("d8d6")},"5f1b":function(e,t,r){"use strict";var a=r("23c6"),n=RegExp.prototype.exec;e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var o=r.call(e,t);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==a(e))throw new TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},"67bb":function(e,t,r){e.exports=r("f921")},7618:function(e,t,r){"use strict";r.d(t,"a",function(){return u});var a=r("5d58"),n=r.n(a),o=r("67bb"),i=r.n(o);function l(e){return l="function"===typeof i.a&&"symbol"===typeof n.a?function(e){return typeof e}:function(e){return e&&"function"===typeof i.a&&e.constructor===i.a&&e!==i.a.prototype?"symbol":typeof e},l(e)}function u(e){return u="function"===typeof i.a&&"symbol"===l(n.a)?function(e){return l(e)}:function(e){return e&&"function"===typeof i.a&&e.constructor===i.a&&e!==i.a.prototype?"symbol":l(e)},u(e)}},a481:function(e,t,r){"use strict";var a=r("cb7c"),n=r("4bf8"),o=r("9def"),i=r("4588"),l=r("0390"),u=r("5f1b"),c=Math.max,s=Math.min,m=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,f=function(e){return void 0===e?e:String(e)};r("214f")("replace",2,function(e,t,r,h){return[function(a,n){var o=e(this),i=void 0==a?void 0:a[t];return void 0!==i?i.call(a,o,n):r.call(String(o),a,n)},function(e,t){var n=h(r,e,this,t);if(n.done)return n.value;var m=a(e),p=String(this),d="function"===typeof t;d||(t=String(t));var g=m.global;if(g){var v=m.unicode;m.lastIndex=0}var y=[];while(1){var F=u(m,p);if(null===F)break;if(y.push(F),!g)break;var x=String(F[0]);""===x&&(m.lastIndex=l(p,o(m.lastIndex),v))}for(var N="",k=0,w=0;w<y.length;w++){F=y[w];for(var R=String(F[0]),S=c(s(i(F.index),p.length),0),T=[],D=1;D<F.length;D++)T.push(f(F[D]));var $=F.groups;if(d){var C=[R].concat(T,S,p);void 0!==$&&C.push($);var E=String(t.apply(void 0,C))}else E=b(R,p,S,T,$,t);S>=k&&(N+=p.slice(k,S)+E,k=S+R.length)}return N+p.slice(k)}];function b(e,t,a,o,i,l){var u=a+e.length,c=o.length,s=d;return void 0!==i&&(i=n(i),s=p),r.call(l,s,function(r,n){var l;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,a);case"'":return t.slice(u);case"<":l=i[n.slice(1,-1)];break;default:var s=+n;if(0===s)return r;if(s>c){var p=m(s/10);return 0===p?r:p<=c?void 0===o[p-1]?n.charAt(1):o[p-1]+n.charAt(1):r}l=o[s-1]}return void 0===l?"":l})}})},b0c5:function(e,t,r){"use strict";var a=r("520a");r("5ca1")({target:"RegExp",proto:!0,forced:a!==/./.exec},{exec:a})},ce4f:function(e,t,r){},ed08:function(e,t,r){"use strict";r.d(t,"a",function(){return a});r("a481"),r("7618");function a(e){switch(e){case 1:return"生效中";case 2:return"已作废";case 3:return"未支付";case 8:return"已生效";case 7:return"投保失败";default:return""}}}}]);